<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Walking Reminder</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiV2Fsa2luZyBSZW1pbmRlciIsInNob3J0X25hbWUiOiJXYWxrIiwic3RhcnRfdXJsIjoiLiIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTWpRd0lpQm9aV2xuYUhROUlqSTBNQ0lpSUhacFpYZENiM2c5SWpBZ01DQXlOREFnTWpRd0lpQm1hV3hzUFNJaU5qWTJaV1ZoSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpUGlCOFBIQmhkR2dnWkQwaWJURXlNQ0EyTUdNeE5qZ3VNVFVnTUNCek16SXVNalVnTVRRdU5UY2dOakF1TnpVZ016SXROekl1TnpWZ056SXVOelVnTXpKak1TNHpNU0F4Tnk0Mk5TQXhOaTQxT1NBek1pNDFPU0F6TUM0MU1pQTBOaTQxTjJNeE1pNDVNeUF4TkM0eE5pQXlOaTQ1TXlBek15NHhOaUEwTWk0MU5TQTFNaTQxTjJNeE5TNHpOaUF4T1M0ME1TQXpNUzQ0TWlBeE9TNDBNVUEwT1M0NU4ySXhOQzQxTVMxdU1UUXVOREV0WVRFek5TNDFNeUF4TXpVdU5UTWdNQ0F3SURBZ05qa3VOekI2YlRVd0xqSTFJREV5TkdNdE9DNDFNemN0TkM0MU5EWXRNVEl1TmpJdE1USXVOakl0TWpFdU1UWWdNRU14TmpBdU5UZ3VPVEUzSURFNE1TNDJNekF1T1RFM2FERTVNQ1Y4UEM5d1lYUm9Qanc5YzNablBnPT0iLCJzaXplcyI6IjI0MHgyNDAiLCJ0eXBlIjoiaW1hZ2Uvc3ZnK3htbCJ9XX0=" />

    <!-- iOS Web App Config -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Walk Reminder" />
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9IiM2NjdlZWEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+IDxwYXRoIGQ9Im05MCA0NWMxMjYuMTUgMCBzMjQuNzUgMTAuOTMgNDUuNTYgMjQtNTQuNTYgNTQuNTYgNTQuNTZjMTAuNjIgMTMuMjQgMTIuNDIgMjQuMzcgMjIuOTEgMzguNTdjOS42OSAxMS4wOCAyMC4xOCAyNC42OSAzMS41IDM5LjM3YzEzLjUgMTQuNjUgMjMuODIgMTQuNjVhMTAxLjU2IDEwMS41NiAwIDAgMCA1Mi4xNnoiLz48L3N2Zz4=" />

    <!-- Styles -->
    <style>
        :root {
            --primary: #667eea;
            --primary-dark: #5a67d8;
            --secondary: #764ba2;
            --success: #10b981;
            --success-dark: #059669;
            --danger: #ef4444;
            --danger-dark: #dc2626;
            --warning: #f59e0b;
            --info: #6366f1;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, #9333ea 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 80%, rgba(120,119,198,0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,119,198,0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120,200,255,0.2) 0%, transparent 50%);
            pointer-events: none;
            animation: float 20s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .app-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 32px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.1);
            text-align: center;
            max-width: 420px;
            width: 100%;
            position: relative;
            border: 1px solid rgba(255,255,255,0.2);
            animation: slideUp 0.8s ease;
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .app-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(135deg, var(--primary), var(--info));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .app-subtitle {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 24px;
            font-weight: 500;
        }

        .status {
            font-size: 16px;
            margin: 24px 0;
            padding: 16px 20px;
            border-radius: 16px;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }
        .status::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }
        .status.active::before {
            left: 100%;
        }
        .status.active {
            background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(5,150,105,0.05));
            color: var(--success-dark);
            border: 2px solid rgba(16,185,129,0.3);
            animation: pulse 2s infinite;
        }
        .status.inactive {
            background: rgba(100,116,139,0.1);
            color: var(--gray);
            border: 2px solid rgba(100,116,139,0.2);
        }
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16,185,129,0.4); }
            50% { box-shadow: 0 0 0 10px rgba(16,185,129,0); }
        }

        .controls {
            display: flex;
            gap: 12px;
            margin: 28px 0;
        }
        .btn {
            flex: 1;
            padding: 16px 20px;
            border: none;
            border-radius: 16px;
            font-size: 15px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
            min-height: 54px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        .btn:active::before {
            left: 100%;
        }
        .btn-start {
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: #fff;
            box-shadow: 0 4px 15px rgba(16,185,129,0.4);
        }
        .btn-stop {
            background: linear-gradient(135deg, var(--danger), var(--danger-dark));
            color: #fff;
            box-shadow: 0 4px 15px rgba(239,68,68,0.4);
        }
        .btn-start:hover:not(:disabled),
        .btn-stop:hover:not(:disabled) {
            transform: translateY(-3px);
        }
        .btn-start:active,
        .btn-stop:active {
            transform: translateY(-1px);
        }
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .next-reminder {
            display: none;
            background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(79,70,229,0.05));
            color: var(--info);
            padding: 20px;
            border-radius: 16px;
            margin: 24px 0;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <div class="walking-icon">üö∂‚Äç‚ôÇÔ∏è</div>
        <h1 class="app-title">Walking Reminder</h1>
        <p class="app-subtitle">Stay healthy with regular walking breaks</p>
        <div id="status" class="status inactive"><span>Ready to start your work day</span></div>
        <div class="controls">
            <button id="startBtn" class="btn btn-start">üè¢ Start Work</button>
            <button id="stopBtn" class="btn btn-stop" disabled>üè† Go Home</button>
        </div>
        <div id="nextReminder" class="next-reminder">
            <div>Next reminder in:</div>
            <div id="countdown" class="countdown">30:00</div>
            <svg class="progress-ring"><circle id="progressCircle" class="progress-ring-circle"/></svg>
        </div>
        <div class="stats-grid">
            <div class="stat-card"><div class="stat-title">Today's Walks</div><div id="walkCount" class="stat-value">0</div></div>
            <div class="stat-card"><div class="stat-title">Best Streak</div><div id="bestStreak" class="stat-value">0</div></div>
        </div>
        <div id="healthTip" class="health-tip">üí° Regular walking breaks improve circulation, reduce eye strain, and boost productivity!</div>
        <div id="motivationalMessage" class="motivational-message">üéâ Great job! You're building a healthy habit!</div>
        <div class="settings-panel">
            <div class="setting-item"><span>Sound Notifications</span><div id="soundToggle" class="toggle active"></div></div>
            <div class="setting-item"><span>Vibration</span><div id="vibrationToggle" class="toggle active"></div></div>
            <div class="setting-item"><span>Browser Notifications</span><div id="notificationToggle" class="toggle"></div></div>
        </div>
    </div>
    
    <script>
        let isActive=false, reminderInterval, countdownInterval, nextReminderTime;
        let walkCount=parseInt(localStorage.getItem('walkCount')||'0'),
            bestStreak=parseInt(localStorage.getItem('bestStreak')||'0'),
            currentStreak=parseInt(localStorage.getItem('currentStreak')||'0');
        let settings={sound:true,vibration:true,notifications:false};
        const healthTips=[/*...*/], motivationalMessages=[/*...*/];
        function initApp(){
            document.getElementById('startBtn').onclick=startReminders;
            document.getElementById('stopBtn').onclick=stopReminders;
            document.querySelector('.btn-acknowledge').onclick=acknowledgeReminder;
            document.getElementById('soundToggle').onclick=toggleSound;
            document.getElementById('vibrationToggle').onclick=toggleVibration;
            document.getElementById('notificationToggle').onclick=toggleNotifications;
            loadSettings(); loadStats(); updateHealthTip(); checkNotificationPermission(); updateUI();
        }
        function loadSettings(){let s=localStorage.getItem('walkingSettings'); if(s)settings=JSON.parse(s);updateSettingsUI();}
        function saveSettings(){localStorage.setItem('walkingSettings',JSON.stringify(settings));}
        function updateSettingsUI(){
            document.getElementById('soundToggle').classList.toggle('active',settings.sound);
            document.getElementById('vibrationToggle').classList.toggle('active',settings.vibration);
            document.getElementById('notificationToggle').classList.toggle('active',settings.notifications);
        }
        function toggleSound(){settings.sound=!settings.sound;saveSettings();updateSettingsUI();}
        function toggleVibration(){settings.vibration=!settings.vibration;saveSettings();updateSettingsUI();if(settings.vibration&&navigator.vibrate) navigator.vibrate([100,50,100]);}
        function toggleNotifications(){if(!settings.notifications&&Notification){Notification.requestPermission().then(p=>{if(p==='granted'){settings.notifications=true;saveSettings();updateSettingsUI();}});}else{settings.notifications=!settings.notifications;saveSettings();updateSettingsUI();}}
        function checkNotificationPermission(){if(Notification&&Notification.permission==='granted'){settings.notifications=true;updateSettingsUI();}}
        function loadStats(){let today=new Date().toDateString(),last=localStorage.getItem('lastDate');if(last!==today){let yd=new Date();yd.setDate(yd.getDate()-1);currentStreak=(last===yd.toDateString()?currentStreak:0);walkCount=0;localStorage.setItem('lastDate',today);localStorage.setItem('walkCount','0');localStorage.setItem('currentStreak',currentStreak);}else{walkCount=parseInt(localStorage.getItem('walkCount')||'0');currentStreak=parseInt(localStorage.getItem('currentStreak')||'0');}bestStreak=parseInt(localStorage.getItem('bestStreak')||'0');document.getElementById('walkCount').textContent=walkCount;document.getElementById('bestStreak').textContent=bestStreak;}
        function saveStats(){localStorage.setItem('walkCount',walkCount);localStorage.setItem('currentStreak',currentStreak);localStorage.setItem('bestStreak',bestStreak);}
        function updateHealthTip(){document.getElementById('healthTip').textContent=healthTips[Math.floor(Math.random()*healthTips.length)];}
        function showMotivationalMessage(){const el=document.getElementById('motivationalMessage');el.textContent=motivationalMessages[Math.floor(Math.random()*motivationalMessages.length)];el.style.display='block';setTimeout(()=>el.style.display='none',3000);}
        function updateUI(){const s=document.getElementById('status');const st=document.getElementById('startBtn'),sp=document.getElementById('stopBtn');if(isActive){s.textContent='Work mode active - Walking reminders enabled';s.className='status active';st.disabled=true;sp.disabled=false;document.getElementById('nextReminder').style.display='block';}else{s.textContent='Ready to start your work day';s.className='status inactive';st.disabled=false;sp.disabled=true;document.getElementById('nextReminder').style.display='none';}}
        function startReminders(){if(isActive)return;isActive=true;updateUI();nextReminderTime=new Date(Date.now()+30*60000);startCountdown();reminderInterval=setTimeout(showReminder,30*60000);showMotivationalMessage();if(settings.sound)playNotificationSound();}
        function stopReminders(){isActive=false;updateUI();clearTimeout(reminderInterval);clearInterval(countdownInterval);if(settings.sound)playNotificationSound();updateHealthTip();}
        function startCountdown(){clearInterval(countdownInterval);countdownInterval=setInterval(()=>{if(!isActive)return clearInterval(countdownInterval);let left=nextReminderTime-Date.now();if(left<=0){document.getElementById('countdown').textContent='00:00';clearInterval(countdownInterval);}else{let m=Math.floor(left/60000),s=Math.floor((left%60000)/1000);document.getElementById('countdown').textContent=`${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;}},1000);}
        function updateProgressRing(p=0){const c=document.getElementById('progressCircle'),circ=2*Math.PI*36,off=circ-(p/100)*circ;c.style.strokeDashoffset=off;}
        function showReminder(){document.getElementById('reminderPopup').style.display='flex';if(settings.sound)playNotificationSound();if(settings.vibration&&navigator.vibrate)navigator.vibrate([200,100,200]);if(settings.notifications)new Notification('Time to Walk!','Take a 2-3 minute walking break.');}
        function acknowledgeReminder(){document.getElementById('reminderPopup').style.display='none';walkCount++;currentStreak++;if(currentStreak>bestStreak)bestStreak=currentStreak;document.getElementById('walkCount').textContent=walkCount;document.getElementById('bestStreak').textContent=bestStreak;saveStats();showMotivationalMessage();updateHealthTip();if(isActive){nextReminderTime=new Date(Date.now()+30*60000);startCountdown();reminderInterval=setTimeout(showReminder,30*60000);}}
        function playNotificationSound(){if('speechSynthesis'in window){let u=new SpeechSynthesisUtterance('Ding!');u.volume=0.3;u.rate=2;u.pitch=2;speechSynthesis.speak(u);}}
        document.addEventListener('DOMContentLoaded',initApp);
    </script>
</body>
</html>
